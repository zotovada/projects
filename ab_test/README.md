# Разработка A/B-тестирования и анализ результатов

## Описание проекта
Компания разрабатывает развлекательное приложение с функцией «бесконечной» ленты. Команда разработчиков создала новый алгоритм рекомендаций, который, по их мнению, будет показывать более интересный контент для каждого пользователя. Нужно рассчитать параметры A/B-теста, который позволит проверить эту гипотезу, и проанализировать его результаты.

---

## Цель проекта
Проверить эффективность нового алгоритма рекомендаций и определить, увеличивает ли он вовлечённость пользователей по сравнению с текущим алгоритмом. 

---

## Задачи проекта
1. Проанализировать исторические данные о поведении пользователей для оценки исходного уровня вовлечённости.
2. Определить ключевую метрику эффективности.
3. Сформулировать нулевую и альтернативную гипотезы для A/B-теста.
4. Рассчитать параметры A/B-теста: размер выборки и длительность эксперимента.
5. Оценить корректность проведения теста, включая сбалансированность экспериментальных групп по количеству пользователей, независимость выборок и равномерность распределения пользователей по категориальным признакам.
6. Проанализировать результаты эксперимента и дать рекомендации продуктовой команде по внедрению нового алгоритма.

---

## Описание данных
Данные состоят из трёх датасетов:
- `sessions_project_history.csv` — таблица с историческими данными по сессиям на период 11.08.25 — 23.09.25.
- `sessions_project_test_part.csv` — таблица с данными за первый день проведения A/B-теста, то есть за 14.10.25.
- `sessions_project_test.csv` — таблица с данными за весь период проведения A/B-теста, то есть 14.10.25 — 02.11.25.

---

## Используемые инструменты и библиотеки
- Основные библиотеки Python: `pandas`, `matplotlib`, `seaborn`, `scipy.stats`, `statsmodels.stats`.

---

## Главные выводы

### Вывод после работы с историческими данными

По историческим данным видно, что активность пользователей приложения постепенно снижается после августовского пика, при этом конверсия в регистрацию растёт — аудитория становится более целевой и заинтересованной. Поведение пользователей относительно стабильное: большинство ограничивается тремя просмотрами за сессию, а доля сессий с четырьмя и более просмотрами держится на уровне 29–32% без значимых колебаний.

Это говорит о том, что пользовательская активность и глубина взаимодействия с контентом относительно устойчивы, поэтому эксперимент можно проводить, не опасаясь сильных внешних и сезонных искажений. Но из-за снижения числа пользователей важно проверить, что в обе группы попадёт достаточно трафика, чтобы результаты теста были надёжными.

---

### Вывод после подготовки к тесту

Обобщим информацию о тесте:

**Ключевая метрика:** доля успешных сессий (просмотр пльзователем не менее 4 страниц за одну сессию).

**Гипотезы:**
- H₀: Доля успешных сессий (>= 4 страниц) у пользователей, использующих новый алгоритм не выше, чем у не использующих.
- H₁: Доля успешных сессий (>= 4 страниц) у пользователей, использующих новый алгоритм выше, чем у не использующих.

**Параметры теста:**
- Уровень значимости — 0.05.
- Вероятность ошибки второго рода — 0.2.
- Мощность теста — 0.8.
- Минимальный детектируемый эффект (MDE) — 3% в относительном выражении.

**Размер выборки:** 41 040 для каждой группы.

**Длительность теста:** 9 дней при среднем дневном трафике в 9 907 пользователей. Однако нужно учитывать общее снижение аудитории: может потребоваться продлить эксперимент, чтобы набрать необходимое количество пользователей.

---

### Вывод после проверки A/B-теста

**Различие в количестве пользователей:** Между группами A (1477 человек) и B (1466 человек) разница составляет всего 11 пользователей (~0,7%), что практически несущественно. Количество пользователей в группах можно считать сбалансированным.

**Независимость выборок:** Пользователи, встречающиеся одновременно в тестовой и контрольной группах, не обнаружены, следовательно, выборки являются независимыми.

**Распределение по категориальным переменным:**
- По устройствам: пользователи распределены приблизительно равномерно: Android (A: 44%, B: 46%), PC (A: 25%, B: 26%), iPhone (A: 20%, B: 18%), Mac (A: 11%, B: 10%).
- По регионам: распределение также сбалансировано: CIS (44%), MENA (41%), EU (15%).

**Заключение:** Все условия корректного A/B-теста соблюдены: группы сбалансированы по количеству пользователей, выборки независимы, пересечения нет, а распределение по устройствам и регионам равномерное. Нарушений в проведении теста не выявлено, тест проходит корректно.

---

### Вывод по результатам A/B-эксперимента

**Характеристики эксперимента:**

- Размер выборки: 41 040 пользователей в каждой группе.
- Длительность теста: 19 дней.
- Все условия корректного A/B-теста были соблюдены: группы сбалансированы по численности, выборки независимы, пересечений пользователей нет, распределение по устройствам и регионам равномерное.

**Результаты анализа:**

- Среднее количество уникальных дневных сессий в группах A и B статистически не различается (p-value = 0.94).
- Ключевая метрика — доля успешных сессий (>= 4 страницы):
    - группа A: 30.77%,
    - группа B: 31.83%.
    - разница составила +3.43% (в относильноном выражении) в пользу группы B.
- Полученное значение p-value = 0.00016, что ниже критического уровня α = 0.05. Различие статистически значимо.

**Заключение:**

Новый алгоритм рекомендаций положительно влияет вовлечённость пользователей: доля успешных сессий у пользователей, использующих новый алгоритм, статистически значимо выше, чем у пользователей контрольной группы. Разница составила +3.43% (в относильноном выражении) в пользу группы B. Рекомендуется внедрить новый алгоритм в приложение.